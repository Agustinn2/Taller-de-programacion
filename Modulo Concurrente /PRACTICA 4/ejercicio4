programa ejercicio4 
procesos
  proceso recogerFlores
  comenzar
    mientras(HayFlorEnLaEsquina)
      tomarFlor
  fin
  proceso recogerPapeles
  comenzar
    mientras(HayPapelEnLaEsquina)
      tomarPapel
  fin
  proceso vaciarBolsa
  comenzar
    mientras(HayFlorEnLaBolsa)
      depositarFlor
    mientras(HayPapelEnLaBolsa)
      depositarPapel
  fin
  proceso realizarTarea(E tarea:numero)
  comenzar
    si(tarea = 1)
      recogerFlores
    sino
      si(tarea = 2)
        recogerPapeles
      sino
        si(tarea = 3)
          vaciarBolsa
  fin
  proceso enviarEsquinas
  variables
    num:numero
  comenzar
    repetir 2
      Random(num,2,100)
      EnviarMensaje(num,r1)
      Random(num,2,100)
      EnviarMensaje(num,r2)
  fin
  proceso enviarTareas
  variables 
    tarea:numero
  comenzar
    Random(tarea,1,3)
    EnviarMensaje(tarea,r1)
    Random(tarea,1,3)
    EnviarMensaje(tarea,r2)
  fin
  proceso finalizarTareas
  comenzar
    repetir 2
      EnviarMensaje(0,r1)
      EnviarMensaje(0,r2)
    EnviarMensaje(4,r1)
    EnviarMensaje(4,r2)
  fin
areas
  areaTrabajadores: AreaPC (2,2,100,100)
  areaJefe:AreaP (1,1,1,1)
  areaR1 : AreaP (2,1,2,1)
  areaR2 : AreaP (3,1,3,1)
robots
  robot trabajadores
  variables
    av,ca, avAnt, caAnt,tarea, miCa,miAv:numero
    ok:boolean
  comenzar
    miAv:=PosAv
    miCa:=PosCa
    RecibirMensaje(av,r0)
    RecibirMensaje(ca,r0)
    RecibirMensaje(tarea,r0)
    mientras (tarea <> 4)
      si(PosCa = 1)
        BloquearEsquina(av,ca)
        Pos(av,ca)
      avAnt:= av
      caAnt:= ca
      realizarTarea(tarea)
      RecibirMensaje(av,r0)
      RecibirMensaje(ca,r0)
      RecibirMensaje(tarea,r0)
      si(tarea <> 4) 
        BloquearEsquina(av,ca)
        Pos(av,ca)
        LiberarEsquina(avAnt,caAnt)
      sino
        Pos(miAv,miCa)
        LiberarEsquina(avAnt,caAnt) 
  fin
  robot jefe
  comenzar
    repetir 10
      enviarEsquinas
      enviarTareas
    finalizarTareas
  fin
variables
  r1,r2: trabajadores
  r0:jefe
comenzar
  AsignarArea(r1, areaTrabajadores)
  AsignarArea(r1, areaR1)
  AsignarArea(r2, areaTrabajadores)
  AsignarArea(r2, areaR2)
  AsignarArea(r0, areaJefe)
  Iniciar(r0, 1,1)
  Iniciar(r1, 2,1)
  Iniciar(r2, 3,1)
fin